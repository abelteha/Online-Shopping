import{e as y,c as f,f as m,g as N,s as v,h as C,i as c,k as w,r as B,a,j as r,B as q,l as i}from"./index.31036f5b.js";import{c as E}from"./countries.b6e2c65b.js";import{u as P,c as $,a as s,b as H}from"./useBlocker.8880154f.js";const S="/Online-Shopping/assets/payment.129f7ca0.jpg",k={cardHolderName:"",cardNumber:"",address:"",city:"",postalCode:"",country:""},I=()=>{const o=y(t=>t.userReducer),l=f(),e=P({initialValues:k,validationSchema:$({cardHolderName:s().required("required!"),cardNumber:s().min(12,"You card number must be at least 12 digits!").required("required!"),address:s().required("required!"),city:s().required("required!"),postalCode:s().required("required!"),country:s().required("Please select your country!")}),onSubmit:t=>{l(m(!1)),l(N(0)),l(v(!0));const d=localStorage.getItem("uid");d&&(C(c(i,`users/${d}/cart`)),w(c(i,`users/${d}/`),{totalNumberOfItem:0}))}});B.exports.useEffect(()=>{e.dirty&&l(m(!0))},[e.dirty]);const u=e.touched.cardHolderName&&e.errors.cardHolderName,n=e.touched.cardNumber&&e.errors.cardNumber,h=e.touched.address&&e.errors.address,p=e.touched.city&&e.errors.city,x=e.touched.postalCode&&e.errors.postalCode,b=e.touched.country&&e.errors.country;H("You haven't finished filling the form, are you sure you want to leave this page?",o.isEditingPaymentForm);const g=()=>{};return a("div",{className:"flex justify-around sm:items-center  h-[calc(100vh-8rem)] sm:h-[calc(100vh-10rem)] lg:mx-10 animate-slideup  ",children:[r("img",{src:S,alt:"",className:"max-w-[25rem] object-cover hidden md:block"}),a("div",{className:"flex flex-col h-[calc(100vh-2rem)] sm:mt-[10rem]",children:[r("h1",{className:"font-bold text-2xl my-7",children:"Payment Details"}),a("form",{onSubmit:e.handleSubmit,className:"flex flex-col gap-4",children:[a("div",{className:"relative sm:w-[23rem] w-[19rem]",children:[r("input",{type:"text",name:"cardHolderName",id:"cardHolderName",value:e.values.cardHolderName,onBlur:e.handleBlur,onChange:e.handleChange,className:`w-full bg-gray-100 rounded-lg sm:h-[4rem] h-[3.5rem] px-4 pt-3 sm:pt-2 text-base  ${u&&"border-2 border-red-600"} outline-[#ffad76]`}),r("span",{className:"absolute left-4 top-2 z-10 text-xs text-gray-400",children:"Cardholder name"})]}),a("div",{className:"relative sm:w-[23rem] w-[19rem]",children:[r("input",{type:"text",name:"cardNumber",id:"cardNumber",value:e.values.cardNumber,onBlur:e.handleBlur,onChange:e.handleChange,className:`w-full bg-gray-100 rounded-lg sm:h-[4rem] h-[3.5rem] px-4 pt-3 sm:pt-2  text-base ${n&&"border-2 border-red-600"} outline-[#ffad76]`,placeholder:"xxxx-xxxx-xxxx-xxxx"}),a("span",{className:"absolute left-4 top-2 z-10 text-xs text-gray-400",children:[r(q,{className:"inline text-md mr-1"}),"Card number"]})]}),n&&r("p",{className:"text-red-600 text-center",children:e.errors.cardNumber}),r("p",{className:"text-xl ",children:"Billing Details"}),a("div",{className:"relative sm:w-[23rem] w-[19rem]",children:[r("input",{type:"text",name:"address",id:"address",value:e.values.address,onBlur:e.handleBlur,onChange:e.handleChange,className:`w-full bg-gray-100 rounded-lg sm:h-[4rem] h-[3.5rem] pt-3 sm:pt-2 px-[15px]  text-base ${h&&"border-2 border-red-600"} outline-[#ffad76]`}),r("span",{className:"absolute left-4 top-2 z-10 text-xs text-gray-400",children:"Street Address"})]}),a("div",{className:"flex gap-4",children:[a("div",{className:"relative sm:w-[11rem] w-[9rem] ",children:[r("input",{type:"text",name:"city",id:"city",value:e.values.city,onBlur:e.handleBlur,onChange:e.handleChange,className:`w-full bg-gray-100 rounded-lg sm:h-[4rem] h-[3.5rem] pt-3 sm:pt-2 px-[15px] text-base ${p&&"border-2 border-red-600"} outline-[#ffad76]`}),r("span",{className:"absolute left-4 top-2 z-10 text-xs text-gray-400",children:"City"})]}),a("div",{className:"relative sm:w-[11rem] w-[9rem]",children:[r("input",{type:"text",name:"postalCode",id:"postalCode",value:e.values.postalCode,onBlur:e.handleBlur,onChange:e.handleChange,className:`w-full bg-gray-100 rounded-lg sm:h-[4rem] h-[3.5rem] pt-3 sm:pt-2 px-[15px]  text-base ${x&&"border-2 border-red-600"} outline-[#ffad76]`}),r("span",{className:"absolute left-4 top-2 z-10 text-xs text-gray-400",children:"Postal Code"})]})]}),a("div",{className:"relative sm:w-[23rem] w-[19rem]",children:[a("select",{name:"country",id:"country",value:e.values.country,onChange:e.handleChange,className:`w-full bg-gray-100 rounded-lg sm:h-[4rem] h-[3.5rem] pt-3 sm:pt-2 px-[11px] sm:px-[11px] text-base ${b&&"border-2 border-red-600"} outline-[#ffad76]`,children:[r("option",{value:"",selected:!0,disabled:!0,children:"Choose your country"}),E.map(t=>r("option",{value:t,children:t},t))]}),r("span",{className:"absolute left-4 top-2 z-10 text-xs text-gray-400",children:"Country"})]}),a("button",{className:"bg-[#C56E33] hover:bg-[#a75b29] text-white h-[3rem] rounded-md",onClick:g,children:["Pay $",o.totalPrice]})]})]})]})};export{I as default};
