import{e as g,c as p,a as c,j as r,k as d,i as m,l as i,o as b,q as f,h as N,n as v,r as w,g as C,M as y,O as k}from"./index.31036f5b.js";const $="/Online-Shopping/assets/cart.491cd741.jpg",j=({item:l})=>{const e=g(t=>t.userReducer),n=p(),a=localStorage.getItem("uid"),o=t=>{for(let s in e.cart[0])e.cart[0][s].itemName===t&&(d(m(i,`users/${a}/`),{totalNumberOfItem:e.totalCartItems+1}),d(m(i,`users/${a}/cart/${s}`),{itemAmount:e.cart[0][s].itemAmount+1}),b(m(i,`users/${a}`),u=>{const x=u.val();n(f(x))}))},h=t=>{for(let s in e.cart[0])e.cart[0][s].itemName===t&&e.cart[0][s].itemAmount>1?d(m(i,`users/${a}/cart/${s}`),{itemAmount:e.cart[0][s].itemAmount-1}):e.cart[0][s].itemName===t&&e.cart[0][s].itemAmount===1&&N(m(i,`users/${a}/cart/${s}`)),b(m(i,`users/${a}`),u=>{const x=u.val();n(f(x))}),d(m(i,`users/${a}/`),{totalNumberOfItem:e.totalCartItems-1})};return c("div",{className:"flex justify-between w-[95%]  sm:w-[98%] min-h-[8rem] py-4 px-4 bg-white shadow-lg rounded-lg",children:[c("div",{className:"flex gap-4 items-center",children:[r("img",{src:l.itemImage,alt:"",className:"w-[5rem] h-[5rem] md:w-[7rem] md:h-[7rem] hidden sm:block object-contain"}),c("div",{className:"flex flex-col sm:max-w-[10rem] max-w-[5.5rem]  ",children:[r("h2",{className:"text-lg sm:text-xl font-bold my-2",children:l.itemName}),c("p",{children:["$",l.itemPrice]})]}),c("div",{className:" flex justify-center items-center border border-[#ccc] sm:h-10 sm:w-10 sm:text-base h-8 w-8 text-sm rounded-lg ",children:["x",l.itemAmount]})]}),r("div",{className:"flex flex-col items-center justify-center gap-2",children:c("div",{className:"flex gap-1",children:[r("button",{className:"  h-8 w-10 border border-[#a75b29] hover:border-transparent hover:bg-[#a75b29] hover:text-white rounded-md",onClick:()=>h(l.itemName),children:"-"}),r("button",{className:"h-8 w-10 border border-[#a75b29] hover:border-transparent hover:bg-[#a75b29] hover:text-white rounded-md",onClick:()=>o(l.itemName),children:"+"})]})})]})},I=()=>{const l=v(),e=g(t=>t.userReducer),n=p();let a=[],o=0;for(let t in e.cart[0])a.push(e.cart[0][t]);for(let t=0;t<a.length;t++)o+=a[t].itemPrice*a[t].itemAmount;w.exports.useEffect(()=>{n(C(o))});const h=()=>{l("payment detail")};return c("div",{className:"flex justify-between items-center gap-10  mx-5 lg:mx-10 animate-slideup sm:h-[calc(100vh-15rem)] mt-[2rem]",children:[r("img",{src:$,alt:"",className:"object-cover hidden lg:block h-[90%]"}),c("div",{className:"flex-1 flex flex-col items-center",children:[r("h1",{className:"text-2xl font-bold text-[#a75b29] my-5",children:"Your Cart"}),r("div",{className:" max-h-[calc(100vh-25rem)] min-h-[20rem] bg-gray-50 w-full xl:w-[80%] border overflow-scroll",children:e.totalCartItems===0?r("p",{className:"text-center text-lg px-10 mt-[7rem]",children:"No item in the cart!, May be add one?"}):r("div",{className:"flex flex-col gap-2 justify-center py-2 items-center",children:a.map(t=>r(j,{item:t}))})}),e.totalCartItems>0&&c(y,{children:[c("h1",{className:"text-xl font-bold mt-4",children:["Total Price: $",e.totalPrice]}),c("button",{className:"border-none px-5 py-2 hover:bg-[#a75b29] bg-[#C56E33] text-white rounded-lg w-[10rem] mt-6",onClick:h,children:["Check Out ",r(k,{className:"inline ml-1 text-lg"})]})]})]})]})};export{I as default};
